module.exports.config = {
  name: "war",
  version: "1.0.0",
  hasPermssion: 2, // Only admin can use
  credits: "ARIF-BABU",
  description: "Enables war mode where the bot replies only to messages from a specific user",
  commandCategory: "Admin",
  usages: "war on [UID] / war off",
  cooldowns: 5,
};

let warMode = false; // Tracks if war mode is active
let targetUID = null; // Stores the UID of the user to target in war mode
const botAdminUIDs = ["61553634015672", "61553634015672"]; // Replace with the actual bot admin UIDs

module.exports.handleEvent = async function({ api, event, Users }) {
  const { threadID, senderID, messageID, body } = event;

  // If war mode is active, reply only to messages from the targeted user
  if (warMode && senderID === targetUID) {
    const name = await Users.getNameUser(senderID);
    const replies = [
      "рдЕрдм рдЪреБрджреЗрдЧрд╛ рддреБ рдмреЗрдЯрд╛ рдЪрд▓ рднреМрдВрдХ рдЕрдм ЁЯдгЁЯдгЁЯСИ",
      "рддреЗрд░реА рдорд╛рдБ реШреЛ рд▓рдВрдб рдЪрдЯрд╛рдЙ рдЗрдзрд░ рдЖ рдмрд╣рди рдХреЗ рд▓реЛрдбреЗ ЁЯСЕ рднрдЧрддрд╛ рдХрд┐рдзрд░ рд╣реИ",
      "рддреЗрд░реА рдорд╛рдБ рдХреА рдХрдЪреНрдЫреА рдореЗ рд▓рдВрдб рдлрд╕рд╛ рдХрд░ рднрдЧ рдЬрд╛рдЙрдЧрд╛ ЁЯдгЁЯСЕ рдлреЗрд╡рдХреЙрд▓ рд╕реЗ рднреА рднреА рдордЬрдмреВрдд рдЬреЛреЬ рдорд┐рд▓реЗрдЧрд╛ рд░реЛрдЬ рджреВрдз рдЬреЛ рдкрд┐рддрд╛ рд╣реБ ЁЯСЕЁЯЩД", "рддреЗрд░реА рдорд╛рдБ реШреЛ рдЪреЛрджрдирд╛ рдлреЗрд╕рдмреБрдХ рдЬрдЧрдд рдореЗ рдореЗрд░рд╛ рдордХрд╕рдж рд╣реЛ рдЪреБрдХрд╛ рд╣реИ рддреЗрд░реА рдорд╛рдБ реШреЛ рдХреЛрдИ рдирд╣реАрдВ рдмрдЪрд╛ рд╕рдХреЗрдЧрд╛ рд▓рд┐рдЦрддрд╛ рдЬрд╛ рд╕реВрдЕрд░ рдХреЗ рджрд╛рд╣рд┐рдиреЗ рдЖрдВрдб ЁЯШВтЬНя╕П", "рддреЗрд░реА рдорд╛рдБ рдХреА рдЪреБрдд рдореЗ рдирд▓рдХреЗ рдХреА рдЯреЛрдВрдЯреА рдШреБрд╕реЗреЬ рджреВрдВрдЧрд╛ ЁЯСЕтЬНя╕П рддреЗрд░реЗ рдШрд░ рдореЗ рдкрд╛рдиреА рдХреА рдХрдореА рдирд╣реАрдВ рд╣реЛрдВрдЧреА рдмрд╕ рдирд▓ рдШреБрдорд╛рдирд╛ рддреЗрд░реА рдорд╛рдБ рдореВрддрдирд╛ рдЪрд╛рд▓реБ рдХрд░ рджреЗрдЧреА рдЯреВ рднрд░ рд▓реЗрдирд╛ ЁЯШВтЬНя╕П", "рддреЗрд░реА рдорд╛рдБ рдХреА рдЪреБрдд рдлрд╛реЬ рджреВрдВрдЧрд╛ рд╣рд░рд╛рдо рдХреА рдФрд▓рд╛рдж рд▓рд┐рдЦ рддреВ рдЖрдЬ ЁЯСЕтЬНя╕П", "рддреЗрд░реА рдорд╛рдБ реШреЛ рдкреЗрд░рд┐рд╕ рдореЗ рд▓реЗрдЬрд╛рдХрд░ рдЪреЛрджреБрдБрдЧрд╛ рдмрд╣рди рдХреЗ рд▓реЛрдбреЗ рднрд╛рд░рдд рдореЗ рднрдирдХ рднреА рдирд╣реАрдВ рд▓рдЧрдиреЗ рджреБрдЧрд╛ рдХреА рд╡рд╣ рдЪреБрдж рдЧрдпреА рдореБрдЭ рд╕реЗ ЁЯдгтЬНя╕П", "рддреЗрд░реА рдорд╛рдБ реШреЛ рд╕реБрд╡рд░реЛ рд╕реЗ рдЪреБрджрд╡рд╛ рджреБрдЧрд╛ рдХреНрдпреБрдХреА рддреВ рд╕реБрд╡рд░ рд╣реА рдЬрдиреНрдорд╛ рд╣реИ рддреЗрд░рд╛ рдмрд╛рдк рднреА рд╕реВрдЕрд░ рд╣реА рдерд╛ рдЗрдВрд╕рд╛рди реШреЛ рдХрд┐рд╕реА рдФрд░ рдХреЗ рдмрд╛рдк реШреЛ рддреВ рдмрд╛рдк рдмреЛрд▓рддрд╛ рд╣реИ рдорд╛рджрд░рдЬрд╛рдд ЁЯдгтЬНя╕П", "рддреЗрд░реА рдорд╛рдБ реШреЛ рдЪреЛрджреВ рдпрд╣рд╛рдВ рдбрд┐рдВрдЧреЗ рдорд╛рд░реЗрдЧрд╛ рдЕрдм рд▓рд┐рдЦрдирд╛ рддреЗрд░реА рдорд╛рдБ рдХреА рдЧрд╛рдВрдб рд╕реЗ рдкрд╛рдж рдмрд╛рд╣рд░ рдЖ рдЧрдпрд╛ рдХреНрдпрд╛ рдЫреЛрдЯреВ ЁЯСЕтЬНя╕П", "рддреЗрд░реА рдорд╛рдБ реШреЛ рджрд╛рд░реВ рдкреАрдХрд░ рдЪреЛрджреБрдБрдЧрд╛ рдФрд░ рдЗрддрдирд╛ рдЪреЛрджреБрдБрдЧрд╛ рдЗрд▓рд╛рдЬ рднреА рдЙрд╕рдХреЗ рднреЛрд╕реЬреЗ рдХрд╛ рд╕рдореНрднрд╡ рдирд╣реАрдВ рд╣реЛрдЧрд╛ рдХрд┐рд╕реА рдЕрд╕реНрдкрддрд╛рд▓ рдХреЗ рднреАрддрд░ ЁЯдгтЬНя╕ПЁЯСЕ", "реЫрдм рддреЗрд░реА рдмреВрдвреА рдорд╛рдБ рдЫреЛрдЯреА рдереА рдЙрд╕реЗ рдЯреЙрдлреА рджреЗрдХрд░ рдЪреЛрджрд╛ рдХрд░рддрд╛ рдерд╛ рдореЗ рдпрдХреАрди рдирд╣реАрдВ рддреЛ рдЬрд╛рдХрд░ рдкреВрдЫ рдЙрд╕ рдмрд╣рди рдХреА рд▓рдВрдбреА рд╕реЗ ЁЯдгтЬНя╕П", "рддреЗрд░реА рдорд╛рдБ рдХреА рдЪреБрдд рдкрд░ рдкрддреНрдерд░ рдорд╛рд░ рдорд╛рд░ рдХреЗ рдкрд┐рдЪрдХрд╛ рджреБрдЧрд╛ ЁЯЩДтЬНя╕П рд▓рдВрдб рдХреЗ рдЯреЛрдкреЗ рдЯрд╛рдЗрдк рдХрд░рддрд╛ рдЬрд╛", "рддреЗрд░реА рдмрд╣рди реШреЛ рдЧрдиреНрдиреЗ рдХреЗ рдЦреЗрддреЛ рдореЗ рдЪреЛрджреБрдБрдЧрд╛ рдФрд░ рдЧрдиреНрдирд╛ рдЙрд╕рдХреА рдЪреБрдд рдореЗ рдбрд╛рд▓ рджреБрдЧрд╛ ЁЯСЕтЬНя╕П", "рддреЗрд░реА рдмрд╣рди рдХреА рд╕реАрд▓ рддреЛреЬ рджреБрдЧрд╛ рдмрд╣рди рдХреЗ рд▓рдВрдб рдУрдпреЛ рдиреЗ рдкрдЯрд╛ рдХрд░ рд▓реЗрдЬрд╛ рдХрд░ ЁЯШВтЬНя╕П", "рддреЗрд░реА рдорд╛рдБ рдХреА рдЖрдБрдЦреЛрдВ рдореЗ рд▓рдВрдб рд░рдЦ рдХрд░ рд╕реЛрдКрдВрдЧрд╛ реЫрдм рдиреАрдВрдж рдЖрдПрдЧреА рдЖрдЬ рдореБрдЭреЗ ЁЯСЕтЬНя╕П", "рддреЗрд░реА рдорд╛рдБ реШреЛ рд╢рд┐рд▓рд╛рдЬреАрдд рдЦрд╛рдХрд░ рдЪреЛрджреБрдБрдЧрд╛ рдкреВрд░реНрдг рд╢рдХреНрддрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде ЁЯСЕтЬНя╕П рдореЗрд░реЗ рдкреБрддреНрд░", "рддреЗрд░реА рдорд╛рдБ рдХреА рдЪреБрдд рд▓рд┐рдЦ рд░рд╣рд╛ рд╣реБ рднрдЧ рдордд рдЬрд╛рдирд╛ ЁЯдгтЬНя╕П рддреБрдЭреЗ рддреЗрд░реА рдмреВрдвреА рдорд╛рдБ рдХрд╛ рд╡рд╛рд╕реНрддрд╛ ЁЯШВ", "рддреЗрд░реА рдорд╛рдБ рдХреА рдЧрд╛рдВрдб рдореЗ рдмреЗрд▓рди рдбрд╛рд▓ рджреВрдВрдЧрд╛ рдЬрд┐рд╕рд╕реЗ рддреБрдЭреЗ рд░реЛрдЯрд┐рдпрд╛рдВ рдмреЗрд▓ рдмреЗрд▓ рдХрд░ рдЦрд┐рд▓рд╛рддреА рд╣реИ рдФрд░ реЫрдм рдореЗрд░реА рдЭрд╛рдЯ рдХрд╛ рдмрд╛рд▓ рддреЗрд░реЗ рдЦрд╛рдиреЗ рдореЗ рдЖ рдЬрд╛рддрд╛ рд╣реИ рдЙрд╕рдкреЗ рдЪрд┐рд▓реНрд▓рд╛рддрд╛ рд╣реИ рддреВ ЁЯШВтЬНя╕П", "рддреЗрд░реА рдмрд╣рди реШреЛ рдШреЛреЬреА рдмрдирд╛ рдХрд░ рдЪреЛрджреБрдБрдЧрд╛ рдЙрд╕рдХреА рдЧрд╛рдВрдб рдореЛрдЯреА рдХрд░ рджреВрдВрдЧрд╛ рдЪреЛрдж рдЪреЛрдж рдХрд░ ЁЯШВтЬНя╕П", "рддреЗрд░реА рдмрд╣рди рдХреЗ рдЪреБрдЪреЗ рджрдмрд╛ рджрдмрд╛ рдХрд░ рдирд┐рдЪреЛреЬ рджреБрдЧрд╛ рдФрд░ рд╕рд╛рд░рд╛ рджреВрджреВ рдкреА рдЬрд╛рдЙрдЧрд╛ ЁЯСЕтЬНя╕П рдпрдо рдпрдо", "рддреЗрд░реА рдорд╛рдБ рдЪреБрдж рдЪреБрдж рдХрд░ рдЖрдЬ ЁЯЩД рдореБрдЭ рд╕реЗ рдмреЗрд╣реЛрд╕ рд╣реЛ рдЬрд╛рдпрдЧреА рднрдЧрдирд╛ рдордд рд▓рд┐рдЦрддрд╛ рдЬрд╛ рд╡рд░рдирд╛ рдЙрд╕реЗ рдХреМрди рдЕрд╕реНрдкрддрд╛рд▓ рд▓реЗ рдЬрд╛рдпрдЧрд╛ рдЙрдард╛ рдХрд░ рд░рдВрдбреА рдХреЗ рдмреАрдЬ ЁЯСЕЁЯдг", "рджрдпрд╛ рдЖ рд░рд╣реА рд╣реИ рддреБрдЭ рдкрд░ рдХреА рд░рдВрдбреА рдХреЗ рддреВ рдЕрд╕рд╣рд╛рдп рд╣реИ рдЕрдкрдиреА рдорд╛рдБ реШреЛ рдЪреБрджрдиреЗ рд╕реЗ рдмрдЪрд╛рдиреЗ реШреЛ ЁЯдгтЬНя╕П", "рддреЗрд░реА рдорд╛рдБ рдЪреЛрджрдиреЗ рдореЗ рд╣рдордХреЛ рдЖрдирдВрдж рдЖрддрд╛ рд╣реИ рдРрд╕реЗ рд╣реА рд░реЛрдЬ рдЕрдкрдиреА рдорд╛рдБ реШреЛ рд╣рдорд╛рд░реЗ рдЖрдЧреЗ рдкреНрд░рд╕реНрддреБрдд рдХрд░ рджрд┐рдпрд╛ рдХрд░реЛ ЁЯЩДтЬНя╕П",
      // ... (same as before)
    ];

    // Generate a random reply
    const reply = replies[Math.floor(Math.random() * replies.length)];

    // Send the reply
    return api.sendMessage(reply.replace("{name}", name), threadID, messageID);
  }
};

module.exports.run = async function({ api, event, args }) {
  const { threadID, messageID, senderID } = event;
  const command = args[0];

  // Check if the sender is the bot admin
  if (!botAdminUIDs.includes(senderID)) {
    return api.sendMessage("Only the bot admin can use this command.", threadID, messageID);
  }

  // Command to turn war mode on
  if (command === "on") {
    const uid = args[1]; // Get the UID from the command

    // Ensure a UID was provided
    if (!uid) {
      return api.sendMessage("Please provide a UID to target.", threadID, messageID);
    }

    // Set war mode to active and save the target UID
    warMode = true;
    targetUID = uid;

    return api.sendMessage(`War mode activated! Now targeting UID: ${uid}`, threadID, messageID);
  }

  // Command to turn war mode off
  if (command === "off") {
    // Disable war mode
    warMode = false;
    targetUID = null;

    return api.sendMessage("War mode deactivated.", threadID, messageID);
  }

  return api.sendMessage("Invalid command. Use 'war on [UID]' or 'war off'.", threadID, messageID);
};
